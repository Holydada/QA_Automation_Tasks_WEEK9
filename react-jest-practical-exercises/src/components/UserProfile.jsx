import {useEffect,useState} from 'react'; import {fetchUser} from '../api'; export default function UserProfile({userId}){const [status,setStatus]=useState('idle'); const [user,setUser]=useState(null); useEffect(()=>{let active=true; setStatus('loading'); setUser(null); fetchUser(userId).then(u=>{if(active){setUser(u); setStatus('success');}}).catch(()=>{if(active) setStatus('error');}); return ()=>{active=false};},[userId]); if(status==='loading') return <div>Loading...</div>; if(status==='error') return <div>Error loading user.</div>; if(!user) return null; return (<div><h2 aria-label="name">{user.name}</h2><p aria-label="email">{user.email}</p></div>);}
