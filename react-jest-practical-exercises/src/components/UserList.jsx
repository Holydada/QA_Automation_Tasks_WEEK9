import {useEffect,useState} from 'react';
export default function UserList(){const [users,setUsers]=useState([]);const [loading,setLoading]=useState(true);const [error,setError]=useState(null);useEffect(()=>{let active=true;(async()=>{try{const res=await fetch('https://jsonplaceholder.typicode.com/users');if(!res.ok) throw new Error('Network error');const data=await res.json(); if(active) setUsers(data);}catch(e){if(active) setError(e);}finally{ if(active) setLoading(false);} })(); return ()=>{active=false};},[]); if(loading) return <div>Loading...</div>; if(error) return <div>Error loading users.</div>; return (<ul aria-label="usernames">{users.map(u=>(<li key={u.id}>{u.username}</li>))}</ul>);}
