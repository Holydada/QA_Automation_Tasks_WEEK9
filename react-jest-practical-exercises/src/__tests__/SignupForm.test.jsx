import {render,screen} from '@testing-library/react'; import userEvent from '@testing-library/user-event'; import SignupForm from '../components/SignupForm'; test('typing updates input and submit calls handler with email',async()=>{const user=userEvent.setup(); const handleSubmit=jest.fn(); render(<SignupForm handleSubmit={handleSubmit}/>); const input=screen.getByLabelText(/email/i); await user.type(input,'test@example.com'); expect(input).toHaveValue('test@example.com'); await user.click(screen.getByRole('button',{name:/submit/i})); expect(handleSubmit).toHaveBeenCalledWith('test@example.com');});
